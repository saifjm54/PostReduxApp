{"ast":null,"code":"import { createSlice, nanoid } from \"@reduxjs/toolkit\";\nimport { sub } from \"date-fns\";\nconst initialState = [{\n  id: '1',\n  title: 'First Post!',\n  content: 'Hello',\n  date: sub(new Date(), {\n    minutes: 10\n  }).toISOString(),\n  reactions: {\n    thumbsUp: 0,\n    hooray: 0,\n    heart: 0,\n    rocket: 0,\n    eyes: 0\n  }\n}, {\n  id: '2',\n  title: 'Second Post',\n  content: 'More text',\n  date: sub(new Date(), {\n    minutes: 5\n  }).toISOString()\n}];\nconst postsSlice = createSlice({\n  name: 'posts',\n  initialState,\n  reducers: {\n    reactionAdded(state, action) {\n      const {\n        postId,\n        reaction\n      } = action.payload;\n      const existingPost = state.find(post => post.id === postId);\n      if (existingPost) {\n        existingPost.reactions[reaction]++;\n      }\n    },\n    postAdded: {\n      reducer(state, action) {\n        state.push(action.payload);\n      },\n      prepare(title, content, userId) {\n        return {\n          payload: {\n            id: nanoid(),\n            date: new Date().toISOString(),\n            title,\n            content,\n            user: userId\n          }\n        };\n      }\n    },\n    postUpdated(state, action) {\n      const {\n        id,\n        title,\n        content\n      } = action.payload;\n      const existingPost = state.find(post => post.id === id);\n      if (existingPost) {\n        existingPost.title = title;\n        existingPost.content = content;\n      }\n    }\n  }\n});\nexport const {\n  postAdded,\n  postUpdated,\n  reactionAdded\n} = postsSlice.actions;\nexport default postsSlice.reducer;","map":{"version":3,"names":["createSlice","nanoid","sub","initialState","id","title","content","date","Date","minutes","toISOString","reactions","thumbsUp","hooray","heart","rocket","eyes","postsSlice","name","reducers","reactionAdded","state","action","postId","reaction","payload","existingPost","find","post","postAdded","reducer","push","prepare","userId","user","postUpdated","actions"],"sources":["/home/saif/Documents/Proxym/redux-essentials-example-app/src/features/posts/postsSlice.js"],"sourcesContent":["import { createSlice, nanoid } from \"@reduxjs/toolkit\";\nimport { sub } from \"date-fns\";\n\nconst initialState = [\n    {id: '1',title: 'First Post!',content:'Hello',date: sub(new Date(),{ minutes: 10 }).toISOString(),\n   reactions : {\n    thumbsUp: 0,\n      hooray: 0,\n      heart: 0,\n      rocket: 0,\n      eyes: 0,\n   }\n},\n    { id: '2', title: 'Second Post', content: 'More text' , date: sub(new Date(),{minutes: 5}).toISOString()}\n]\n\nconst postsSlice = createSlice({\n    name: 'posts',\n    initialState,\n    reducers: {\n        reactionAdded(state, action) {\n            const {postId , reaction } = action.payload\n            const existingPost = state.find( post => post.id === postId)\n            if(existingPost) {\n                existingPost.reactions[reaction]++\n            }\n        },\n        postAdded: {\n            reducer(state , action){\n                state.push(action.payload)\n            },\n            prepare(title , content, userId) {\n                return {\n                    payload: {\n                        id: nanoid(),\n                        date: new Date().toISOString(),\n                        title,\n                        content,\n                        user: userId\n                    }\n                }\n            }\n        },\n        postUpdated(state,action) {\n            const {id , title , content } = action.payload\n            const existingPost = state.find(post => post.id === id)\n            if(existingPost){\n                existingPost.title = title\n                existingPost.content = content\n            }\n        }\n\n    }\n})\n\nexport const { postAdded, postUpdated ,reactionAdded } = postsSlice.actions\nexport default postsSlice.reducer"],"mappings":"AAAA,SAASA,WAAW,EAAEC,MAAM,QAAQ,kBAAkB;AACtD,SAASC,GAAG,QAAQ,UAAU;AAE9B,MAAMC,YAAY,GAAG,CACjB;EAACC,EAAE,EAAE,GAAG;EAACC,KAAK,EAAE,aAAa;EAACC,OAAO,EAAC,OAAO;EAACC,IAAI,EAAEL,GAAG,CAAC,IAAIM,IAAI,CAAC,CAAC,EAAC;IAAEC,OAAO,EAAE;EAAG,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EAClGC,SAAS,EAAG;IACXC,QAAQ,EAAE,CAAC;IACTC,MAAM,EAAE,CAAC;IACTC,KAAK,EAAE,CAAC;IACRC,MAAM,EAAE,CAAC;IACTC,IAAI,EAAE;EACT;AACH,CAAC,EACG;EAAEZ,EAAE,EAAE,GAAG;EAAEC,KAAK,EAAE,aAAa;EAAEC,OAAO,EAAE,WAAW;EAAGC,IAAI,EAAEL,GAAG,CAAC,IAAIM,IAAI,CAAC,CAAC,EAAC;IAACC,OAAO,EAAE;EAAC,CAAC,CAAC,CAACC,WAAW,CAAC;AAAC,CAAC,CAC5G;AAED,MAAMO,UAAU,GAAGjB,WAAW,CAAC;EAC3BkB,IAAI,EAAE,OAAO;EACbf,YAAY;EACZgB,QAAQ,EAAE;IACNC,aAAaA,CAACC,KAAK,EAAEC,MAAM,EAAE;MACzB,MAAM;QAACC,MAAM;QAAGC;MAAS,CAAC,GAAGF,MAAM,CAACG,OAAO;MAC3C,MAAMC,YAAY,GAAGL,KAAK,CAACM,IAAI,CAAEC,IAAI,IAAIA,IAAI,CAACxB,EAAE,KAAKmB,MAAM,CAAC;MAC5D,IAAGG,YAAY,EAAE;QACbA,YAAY,CAACf,SAAS,CAACa,QAAQ,CAAC,EAAE;MACtC;IACJ,CAAC;IACDK,SAAS,EAAE;MACPC,OAAOA,CAACT,KAAK,EAAGC,MAAM,EAAC;QACnBD,KAAK,CAACU,IAAI,CAACT,MAAM,CAACG,OAAO,CAAC;MAC9B,CAAC;MACDO,OAAOA,CAAC3B,KAAK,EAAGC,OAAO,EAAE2B,MAAM,EAAE;QAC7B,OAAO;UACHR,OAAO,EAAE;YACLrB,EAAE,EAAEH,MAAM,CAAC,CAAC;YACZM,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACE,WAAW,CAAC,CAAC;YAC9BL,KAAK;YACLC,OAAO;YACP4B,IAAI,EAAED;UACV;QACJ,CAAC;MACL;IACJ,CAAC;IACDE,WAAWA,CAACd,KAAK,EAACC,MAAM,EAAE;MACtB,MAAM;QAAClB,EAAE;QAAGC,KAAK;QAAGC;MAAQ,CAAC,GAAGgB,MAAM,CAACG,OAAO;MAC9C,MAAMC,YAAY,GAAGL,KAAK,CAACM,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACxB,EAAE,KAAKA,EAAE,CAAC;MACvD,IAAGsB,YAAY,EAAC;QACZA,YAAY,CAACrB,KAAK,GAAGA,KAAK;QAC1BqB,YAAY,CAACpB,OAAO,GAAGA,OAAO;MAClC;IACJ;EAEJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEuB,SAAS;EAAEM,WAAW;EAAEf;AAAc,CAAC,GAAGH,UAAU,CAACmB,OAAO;AAC3E,eAAenB,UAAU,CAACa,OAAO"},"metadata":{},"sourceType":"module"}