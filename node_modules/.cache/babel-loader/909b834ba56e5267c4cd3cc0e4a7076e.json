{"ast":null,"code":"\"use strict\";\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nexports.__esModule = true;\nexports.sortResults = void 0;\nvar debug_1 = require(\"debug\");\nvar get_1 = __importDefault(require(\"lodash/get\"));\nvar log = debug_1.debug('sortResults');\nfunction warnOnIneffectiveSortingKeys(sortCriteria) {\n  var _a = __read(Object.keys(sortCriteria)),\n    mainCriteria = _a[0],\n    siblings = _a.slice(1);\n  if (siblings.length > 0) {\n    console.warn('Sorting by \"%s\" has no effect: already sorted by \"%s\".', siblings.join(','), mainCriteria);\n  }\n}\nfunction flattenSortCriteria(orderBy, propertyPath) {\n  if (propertyPath === void 0) {\n    propertyPath = [];\n  }\n  log('flattenSortCriteria:', orderBy, propertyPath);\n  return orderBy.reduce(function (criteria, properties) {\n    warnOnIneffectiveSortingKeys(properties);\n    // Multiple properties in a single criteria object are forbidden.\n    // Use the list of criteria objects for multi-criteria sort.\n    var property = Object.keys(properties)[0];\n    var sortDirection = properties[property];\n    var path = propertyPath.concat(property.toString());\n    log({\n      property: property,\n      sortDirection: sortDirection,\n      path: path\n    });\n    // Recursively flatten order criteria when referencing\n    // relational properties.\n    var newCriteria = typeof sortDirection === 'object' ? flattenSortCriteria([sortDirection], path) : [[path, sortDirection]];\n    log('pushing new criteria:', newCriteria);\n    return criteria.concat(newCriteria);\n  }, []);\n}\n/**\n * Sorts the given list of entities by a certain criteria.\n */\nfunction sortResults(orderBy, data) {\n  log('sorting data:', data);\n  log('order by:', orderBy);\n  var criteriaList = [].concat(orderBy);\n  log('criteria list:', criteriaList);\n  var criteria = flattenSortCriteria(criteriaList);\n  log('flattened criteria:', JSON.stringify(criteria));\n  data.sort(function (left, right) {\n    var e_1, _a;\n    try {\n      for (var criteria_1 = __values(criteria), criteria_1_1 = criteria_1.next(); !criteria_1_1.done; criteria_1_1 = criteria_1.next()) {\n        var _b = __read(criteria_1_1.value, 2),\n          path = _b[0],\n          sortDirection = _b[1];\n        var leftValue = get_1[\"default\"](left, path);\n        var rightValue = get_1[\"default\"](right, path);\n        log('comparing value at \"%s\" (%s): \"%s\" / \"%s\"', path, sortDirection, leftValue, rightValue);\n        if (leftValue > rightValue) {\n          return sortDirection === 'asc' ? 1 : -1;\n        }\n        if (leftValue < rightValue) {\n          return sortDirection === 'asc' ? -1 : 1;\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (criteria_1_1 && !criteria_1_1.done && (_a = criteria_1[\"return\"])) _a.call(criteria_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    return 0;\n  });\n  log('sorted results:\\n', data);\n}\nexports.sortResults = sortResults;","map":{"version":3,"names":["__read","o","n","m","Symbol","iterator","i","call","r","ar","e","next","done","push","value","error","__values","s","length","TypeError","__importDefault","mod","__esModule","exports","sortResults","debug_1","require","get_1","log","debug","warnOnIneffectiveSortingKeys","sortCriteria","_a","Object","keys","mainCriteria","siblings","slice","console","warn","join","flattenSortCriteria","orderBy","propertyPath","reduce","criteria","properties","property","sortDirection","path","concat","toString","newCriteria","data","criteriaList","JSON","stringify","sort","left","right","e_1","criteria_1","criteria_1_1","_b","leftValue","rightValue","e_1_1"],"sources":["/home/saif/Documents/Proxym/redux-essentials-example-app/node_modules/@mswjs/data/lib/query/sortResults.js"],"sourcesContent":["\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.sortResults = void 0;\nvar debug_1 = require(\"debug\");\nvar get_1 = __importDefault(require(\"lodash/get\"));\nvar log = debug_1.debug('sortResults');\nfunction warnOnIneffectiveSortingKeys(sortCriteria) {\n    var _a = __read(Object.keys(sortCriteria)), mainCriteria = _a[0], siblings = _a.slice(1);\n    if (siblings.length > 0) {\n        console.warn('Sorting by \"%s\" has no effect: already sorted by \"%s\".', siblings.join(','), mainCriteria);\n    }\n}\nfunction flattenSortCriteria(orderBy, propertyPath) {\n    if (propertyPath === void 0) { propertyPath = []; }\n    log('flattenSortCriteria:', orderBy, propertyPath);\n    return orderBy.reduce(function (criteria, properties) {\n        warnOnIneffectiveSortingKeys(properties);\n        // Multiple properties in a single criteria object are forbidden.\n        // Use the list of criteria objects for multi-criteria sort.\n        var property = Object.keys(properties)[0];\n        var sortDirection = properties[property];\n        var path = propertyPath.concat(property.toString());\n        log({ property: property, sortDirection: sortDirection, path: path });\n        // Recursively flatten order criteria when referencing\n        // relational properties.\n        var newCriteria = typeof sortDirection === 'object'\n            ? flattenSortCriteria([sortDirection], path)\n            : [[path, sortDirection]];\n        log('pushing new criteria:', newCriteria);\n        return criteria.concat(newCriteria);\n    }, []);\n}\n/**\n * Sorts the given list of entities by a certain criteria.\n */\nfunction sortResults(orderBy, data) {\n    log('sorting data:', data);\n    log('order by:', orderBy);\n    var criteriaList = [].concat(orderBy);\n    log('criteria list:', criteriaList);\n    var criteria = flattenSortCriteria(criteriaList);\n    log('flattened criteria:', JSON.stringify(criteria));\n    data.sort(function (left, right) {\n        var e_1, _a;\n        try {\n            for (var criteria_1 = __values(criteria), criteria_1_1 = criteria_1.next(); !criteria_1_1.done; criteria_1_1 = criteria_1.next()) {\n                var _b = __read(criteria_1_1.value, 2), path = _b[0], sortDirection = _b[1];\n                var leftValue = get_1[\"default\"](left, path);\n                var rightValue = get_1[\"default\"](right, path);\n                log('comparing value at \"%s\" (%s): \"%s\" / \"%s\"', path, sortDirection, leftValue, rightValue);\n                if (leftValue > rightValue) {\n                    return sortDirection === 'asc' ? 1 : -1;\n                }\n                if (leftValue < rightValue) {\n                    return sortDirection === 'asc' ? -1 : 1;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (criteria_1_1 && !criteria_1_1.done && (_a = criteria_1[\"return\"])) _a.call(criteria_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return 0;\n    });\n    log('sorted results:\\n', data);\n}\nexports.sortResults = sortResults;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}